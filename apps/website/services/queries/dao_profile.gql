query dao_pages {
  daos(limit: 10) {
    id
  }
}

query dao_profile($id: uuid!) {
  daos_by_pk(id: $id) {
    id
    name
    description
    background {
      id
      blur
      #url
    }
    logo {
      id
      blur
    }
    categories
    socials {
      network
      url
    }
    gates(limit: 4) {
      id
      title
      description
      categories
      image
    }
  }
}

query dao_gates_tab($id: uuid!) {
  daos_by_pk(id: $id) {
    gates {
      id
      title
      description
      categories
      image
      published
    }
  }
}

query dao_profile_people($id: uuid!) {
  daos_by_pk(id: $id) {
    followers_aggregate(where: {status: {_eq: "following"}}) {
      aggregate {
        count
      }
    }
    followers(where: {status: {_eq: "following"}}) {
      user {
        id
        name
        username
        pfp
      }
    }
  }
}

mutation create_dao($logo_id: uuid!, $name: String!, $description: String!, $categories: jsonb!, $background_id: uuid!, $socials: [dao_socials_insert_input!]!) {
  insert_daos_one(
    object: {
      logo_id: $logo_id,
      name: $name,
      description: $description,
      categories: $categories,
      background_id: $background_id,
      socials: {data: $socials}}
    ) {
    id
  }
}
