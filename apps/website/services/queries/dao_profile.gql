query dao_pages {
  daos(limit: 10) {
    id
  }
}

query dao_profile($id: uuid!) {
  daos_by_pk(id: $id) {
    id
    name
    description
    background_url
    logo_url
    categories
    socials {
      network
      url
    }
    gates(limit: 4) {
      id
      title
      description
      categories
      image
    }
  }
}

query dao_gates_tab($id: uuid!) {
  daos_by_pk(id: $id) {
    gates {
      id
      title
      description
      categories
      image
    }
  }
}

query dao_profile_people($id: uuid!) {
  daos_by_pk(id: $id) {
    followers_aggregate(where: {status: {_eq: "following"}}) {
      aggregate {
        count
      }
    }
    followers(where: {status: {_eq: "following"}}) {
      user {
        id
        name
        username
        pfp
      }
    }
  }
}

mutation create_dao($socials: dao_socials_arr_rel_insert_input = {data: {}}, $logo_url: String = "", $name: String = "", $description: String = "", $categories: jsonb = "", $background_url: String = "") {
  insert_daos(objects: {socials: $socials, logo_url: $logo_url, name: $name, description: $description, categories: $categories, background_url: $background_url}) {
    returning {
      id
    }
  }
}
